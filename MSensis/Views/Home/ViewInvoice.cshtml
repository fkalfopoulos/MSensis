@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer _localizer
@using MSensis.ViewModels;

@model PDFViewModel

<head>
    <meta charset="utf-8">
    <title>Invoice</title>
    <link rel="stylesheet" href="~/css/invoice22.css">

    <script src="~/js/site.js"></script>
</head>
<body>
    <header>
        <h1>@_localizer["Invoice"]</h1>
        <address contenteditable>
            <p><b> @Model.Company.Name</b></p>
            <p>@Model.Company.Address </p>
            <p>@Model.Company.City   </p>
            <p> @_localizer["tel."] : @Model.Company.TelephoneNumber   </p>
        </address>
        <span><img src="/content/msensis.png" alt="@Model.Company.ImageSrc" /><input type="file" accept="image/*"></span>
    </header>
    <article>
        <h1>Invoice</h1>
        <address contenteditable>
            <p>@_localizer["Client Name"] : <span>@Model.Client.CompanyName </span></p>
            <p>@_localizer["Address"] :  <span> @Model.Client.Address </span></p>
            <p> @_localizer["City"]:  <span> @Model.Client.City            </span> </p>
            <p> @_localizer["Telephone"] : <span> @Model.Client.TelephoneNumber    </span> </p>
            <p>  @_localizer["Social Security Number"] :<span> @Model.Client.AFM  </span> </p>
            <p> @_localizer["DOY"] :<span> @Model.Client.DOY  </span> </p>
        </address>
        <table class="meta">
            <tr>
                <th><span contenteditable>@_localizer["Invoice #"]</span></th>
                <td><span contenteditable>101138</span></td>
            </tr>
            <tr>
                <th><span contenteditable>@_localizer["Date"]</span></th>
                <td><span contenteditable>@Model.DateTimeString</span></td>
            </tr>
            <tr>
                <th><span contenteditable>@_localizer["Amount Due"]</span></th>
                <td><span id="prefix" contenteditable>$</span><span>600.00</span></td>
            </tr>
        </table>
        <table class="inventory">
            <thead>
                <tr>
                    <th><span contenteditable>@_localizer["Product Code"]</span></th>
                    <th><span contenteditable>@_localizer["Description"]</span></th>
                    <th><span contenteditable>@_localizer["Quantity"]</span></th>
                    <th><span contenteditable>@_localizer["Price per Unit"]</span></th>
                    <th><span contenteditable>@_localizer["VAT"]</span></th>
                </tr>
            </thead>
            @foreach (var c in Model.products2)
            {
                <tbody>

                    <tr>
                        <td><a class="cut">-</a><span contenteditable>@c.Code</span></td>
                        <td><span contenteditable>@c.Description</span></td>
                        <td><span contenteditable>@c.Quantity</span></td>
                        <td><span contenteditable>@c.PricePerUnit.ToString("#.##")€</span></td>
                        <td><span>@c.Vat%</span></td>
                    </tr>
                </tbody>
            }
        </table>
        <a class="add">+</a>
        <table class="balance">
            <tr>
                <th><span contenteditable>@_localizer["Price Before Taxes"]</span></th>
                <td><span data-prefix></span><span>@Model.PriceWithoutVat€</span></td>
            </tr>
            <tr>
                <th><span contenteditable>@_localizer["Total Discount"]</span></th>
                <td><span contenteditable>@Model.Discount€</span></td>
            </tr>
            <tr>
                <th><span contenteditable>@_localizer["Total VAT"] </span></th>
                <td><span>@Model.TotalVat€</span></td>
            </tr>
            <tr>
                <th><span contenteditable>@_localizer["Grant Total"]</span></th>
                <td><span>@Model.GrantTotal.ToString("#.##")€</span></td>
            </tr>
        </table>
    </article>
    <aside>
        <h1><span contenteditable>@_localizer["Additional Notes"]</span></h1>
        <div contenteditable>
            <p>@_localizer["A finance charge of 1.5% will be made on unpaid balances after 30 days."]</p>
        </div>
    </aside>
</body>



<script>
    window.onload = function () { window.print(); }
</script>